import numpy as np
import pandas as pd
import warnings

import matplotlib.pyplot as plt
import seaborn as sns



# plt.rcParams['font.sans-serif'] = ['Arial Unicode MS']

pd.options.display.max_columns = 12
pd.options.display.max_rows = 24

warnings.simplefilter('ignore')

sns.set(style='darkgrid', palette='muted')
sns.set_style('whitegrid',{'font.sans-serif':['simhei','Arial']})
# color_scheme = {
#     'red': '#F1637A',
#     'green': '#6ABB3E',
#     'blue': '#3D8DEA',
#     'black': '#000000'
# }

# 所有绘图使用svg格式
# get_ipython().run_line_magic('config', "InlineBackend.figure_format = 'svg'")

# 增加图片大小
# rcParams['figure.figsize'] = 8, 6
x_axis = [x for x in range(0, 36, 5)]

lstm_err = [12.369701521119149, 14.7466508495142, 13.345048456987394, 18.298128590257377, 14.891460474908113, 12.601071116008415, 11.109774705495226, 14.861891217172696, 14.54783480604698, 16.648073477916547, 16.47462024513047, 13.957299724274142, 12.926662368645674, 11.414201601837835, 14.88070214812528, 12.482193277280563, 11.959331849531212, 14.72887690784542, 11.540450632827506, 14.982621860790099, 10.498560184847344, 10.060509044015937, 16.726837651508212, 27.356492281805245, 17.58049780183956, 16.293380637321984, 26.969229245492294, 26.13614755019182, 22.2670475855303, 36.19320524635871, 22.518250959678472, 24.936861823655658, 20.306806076243294, 18.309409679167114, 14.036782498643666, 14.784336016033656, 16.248993771447385, 26.907879801326644, 21.99489350010348, 30.15576620031436, 18.0055590201928, 17.22502376695429, 22.407837481520165, 13.446557310156996, 11.82178768015394, 17.003906865160573, 15.251718743039861, 11.738710516144172, 20.14759452336761, 13.018222119237322, 13.124329414413927, 13.71885733755496, 16.562413974789294, 18.00001374088092, 14.028710765008082, 13.210948831491592, 15.810225499794237, 14.21587373940926, 18.729138210655957, 23.645024502998876, 13.8904929560419, 16.514479048282745, 25.24283668156915, 37.31493194082551, 24.34539287788209, 19.422522570783045, 27.212503083593287, 28.891851722102963, 25.411743597626707, 44.96255841408628, 18.518456431311428, 23.17154962637547, 12.31889995054624, 17.353552221898653, 11.843795067502635, 12.095707515385898, 15.114786108066342, 15.738899782173487, 14.955969962116491, 24.10436556695128, 21.77395544207705, 13.825629529992161, 22.5633070163628, 18.078117996704638, 14.387212585737943, 15.071714747369908, 15.417423010687376, 15.741323968160566, 19.944216061720148, 19.597233855958898, 13.603763060671929, 21.49779147576744, 12.458957910516915, 14.054664366740099, 13.245473586537845, 13.771538595978988, 11.214972978154526, 11.58607513187276, 14.486337978901997, 12.817912892725246, 10.436698063581797, 13.442844976868425, 16.69240628658066, 16.276909581025276, 19.888144856528168, 15.572086884750727, 17.41174366125589, 18.620836461117126, 23.10772744496361, 22.93229527267281, 15.85645817871813, 23.98706276469985, 17.151132632409514, 11.69970404733959, 11.90878963325891, 16.230409355029362, 12.515176972687502, 21.200120509586064, 17.65124575046856, 20.168616412043647, 11.941283663230589, 12.581089011866231, 13.058630922325257, 10.756682139309714, 11.684068698223122, 12.345107283138894, 14.023403313685398, 11.774518105129403, 12.963524873982571, 13.619008244046082, 10.301264804554824, 11.906280932454735, 15.48538432694984, 25.53445904003906, 12.507279541007405, 15.899853471403672, 13.030577486352515, 18.62686544111757, 16.509239450987224, 21.82796637215942, 15.161439070938936, 16.131846803006784, 29.890105948964273, 40.01496542364841, 19.148712755928894, 26.341022550064537, 21.349710016047435, 32.589465034739995, 31.540062123968177, 47.52448797408558, 21.249534132827815, 32.957220853881516, 12.612509789309634, 14.515701618454772, 11.572946918105076, 10.9819421259981, 10.589498011141346, 10.782583727911053, 11.11144189734907, 14.918665653961337, 10.784203368253932, 12.130177182087248, 21.105679169366404, 13.39867496940881, 13.20594675658289, 12.612360099541279, 24.320785906398417, 21.520713938447827, 24.65240896949405, 12.698861057171221, 14.266854498160663, 13.76658593760213, 12.17213216066668, 28.234547838511315, 14.886480008585224, 13.232292823980876, 22.42505243676819, 14.8464696895028, 18.988709113561132, 15.9687566034006, 13.568978232568579, 16.215572100957555, 19.263925893083016, 19.109958009108624, 22.580021579486242, 16.00230644082653, 26.90619631795068, 17.28870325724769, 24.934694837755842, 22.827107047221155, 18.52824558814456, 22.465395042093363, 12.769450032427226, 15.215798951671797, 19.322845239114145, 14.0309591347575, 12.494965379785366, 17.531226448333772, 12.188664831393712, 19.37089857419805, 16.389627184337243, 12.851431800386262, 15.037448909152454, 16.457660046623214, 25.047699430778437, 14.333746635969622, 16.265957201687883, 15.594103888374553, 16.020855597025367, 16.909680252782938, 12.817217384613969, 14.318926637745255, 13.04121763184096, 13.545055797072475, 10.880336298473198, 14.082141555518124, 11.988812752390674, 22.716300756035213, 14.23788014872348, 12.767268925426137, 12.189330067603908, 12.824850555082831, 19.973178088779726, 19.018874436981083, 30.261180617387502, 21.632715782824516, 17.920431276167577, 21.156792131295884, 30.451217966830978, 21.031544521141257, 25.443210504221415, 17.86797655064633, 11.560041710709168, 13.204451387202399, 12.899826185535401, 14.421117874278528, 13.73562683088977, 11.80458033133196, 14.746531298178434, 24.649752090386087, 10.806769217655978, 14.039176582852084, 12.335701547988034, 11.008246513799689, 13.538109664007179, 14.188647522123961, 21.264408616363134, 16.65593663803936, 13.337666031726606, 15.99083446561794, 12.034985142871296, 15.065414142515026, 18.90226679510546, 32.45070099176904, 17.379113464943604, 15.306154154906112, 17.55767159037149, 16.653232033438965, 17.9736876960993, 28.61230268480604, 19.366695895793985, 22.368241323554404, 12.748437489160619, 15.158439405827892, 11.206676962914116, 13.59292819960489, 13.543552705932136, 12.715644158610512, 14.825999770777134, 20.86380261086571, 10.287196921525764, 13.499315911781027, 18.349958342244758, 19.43314321607627, 13.85221554880621, 15.618406737411968, 14.394606727074022, 20.23293768981215, 15.281011358196906, 21.251432595018912, 14.723199628965117, 22.02489538427363, 16.450310383450464, 25.498271247720787, 12.983334782811742, 14.679887351217817, 17.050231449083082, 20.836924277861534, 22.5648119320294, 42.4015733107627, 27.917361252858537, 18.931529310277657, 16.202056690672464, 23.79510259638985, 14.931105437943115, 14.833445767206022, 19.834225410691097, 26.495814479358465, 25.830601192769482, 26.52352864702709, 17.17277314405079, 20.843279154541996, 21.612722039971548, 23.92757240933104, 21.722516301087097, 21.496519990439204, 28.589642863777254, 27.38217535629425, 23.833104182020644, 27.767021254285538, 21.204858155016495, 28.35120726010098, 16.80904877842203, 18.219202672031027, 14.240319388382904, 17.82360118745524, 16.133456147694964, 21.416386513192855, 18.165985806948225, 29.169714005899788, 16.177178920828666, 14.79457523925969, 13.01049675547745, 16.34564243433502, 13.13045021381663, 17.701502808116825, 16.82427081451446, 17.431720436535294, 27.244922465755078, 16.018864927456043, 19.949161434876515, 15.528110579117453, 15.423433871676936, 19.62479498786497, 17.921254875826502, 17.442337111699953, 22.279865681599716, 35.78441295812205, 20.52689880348376, 20.348159978155845, 18.438591541917656, 18.060762530592903, 13.771128107173686, 11.681853018978666, 13.219385347973219, 12.176684912256814, 11.00014700421391, 13.856917776938424, 14.848332821646897, 14.441455846084802, 8.493480728853351, 11.10805053197125, 16.14292066021004, 12.509227184279748, 11.650746462230567, 14.129665626869741, 30.35619855275241, 15.341165162997214, 12.90539731673363, 15.497203539274922, 13.203758375232551, 17.12568907660908, 31.09255124121244, 27.570904897425997, 25.007556854419054, 25.60121917832397, 23.82566536881757, 35.622988552365264, 34.38128770959548, 37.465078872174836, 24.897115013516203, 28.984869687421316, 14.14831945277362, 15.063506332533622, 12.007643977229748, 14.893050727601167, 14.35106579160738, 16.469188022895104, 19.514772242604913, 19.486871834935908]

cnn_err = [14.701461234061005, 17.696151845396248, 13.942977721550301, 22.212398328176864, 15.900287292984844, 12.22711137109702, 12.796107197336406, 14.76932973139728, 17.33724639395658, 19.85644119931983, 18.433481094748167, 16.50023421153224, 14.81989288075275, 14.21052213113206, 18.510640769032424, 14.520825671973967, 13.097066612396452, 19.148865979617696, 13.061852889689648, 17.73375741024713, 10.593416455910493, 11.162183239319884, 19.177873947353497, 29.802800528038514, 20.516059536124164, 17.524315141128444, 29.459716506400145, 29.87261603065677, 28.06783321568439, 39.34708698557498, 24.93272649757727, 28.226393119773462, 22.036972144810154, 19.576539248771848, 15.68218277381988, 14.480449185241264, 18.489076930606178, 30.73522605700901, 24.221183984685364, 32.80386054534581, 21.789084011645173, 20.35460935027716, 14.336696318636285, 15.694474856013127, 10.499409306338313, 13.239924470578979, 12.80176235180962, 11.926811160119843, 16.431394533020637, 12.283094380403282, 10.018414602501508, 16.053078866144034, 18.292353081786132, 21.815117333617316, 15.622672855419614, 15.588445552803842, 16.77353333654717, 15.426400725995368, 17.12208650026748, 25.381675216571104, 12.944816056505193, 17.64454136025461, 26.379068152355046, 42.11787808602371, 26.621626938834726, 22.32905199880346, 30.993410188432712, 32.98944658368496, 27.409156360393606, 48.749747594159956, 20.64274349477454, 26.423360483950752, 13.831592071796337, 18.979010181822296, 12.064259920251633, 13.801582175469434, 13.856452136400591, 17.202049025662692, 16.433818359093667, 28.6384823155266, 25.15873310419112, 13.47273557006868, 17.91297064565442, 20.190055004468427, 16.01250216431886, 12.817839586151933, 14.700170274938301, 20.71253767164572, 17.096653460240326, 19.665456476276397, 13.74913919508593, 26.21434685349256, 11.589083837361326, 17.323167503127156, 14.972220816466683, 18.178470018920365, 10.13033486081324, 11.620528399698983, 13.11044072764916, 12.075131076429674, 11.261654485611366, 16.13784044526341, 20.851004600484817, 19.558112813639923, 22.634491716360408, 16.539861576385075, 16.070726028825835, 21.86909847411302, 23.89207249932949, 24.23307172524694, 16.08883921186478, 25.241089978554225, 18.15221770821178, 12.919202374157509, 11.77463992930225, 19.384100509031, 14.932403401614824, 25.17974758284253, 18.71297045420253, 22.84467373214745, 14.222658030558133, 11.860976586564693, 11.281396692602765, 10.393689262013922, 10.414814899537285, 12.770780297939629, 11.23566786908964, 13.235352898017197, 15.84685634996206, 14.6710989857336, 10.772127328859966, 13.258355457644418, 13.430112841459794, 31.710177006554368, 13.26932601861223, 17.11118547759255, 12.246029921368153, 19.217709158254912, 17.806894401362346, 24.230325045237148, 18.439146505782293, 20.06654636637689, 34.52602339257383, 43.19325823421411, 21.385434589399598, 30.36668179967451, 24.95710249073308, 37.043551969552944, 34.6357598708248, 51.06154252999655, 23.04586474275076, 38.505470212691776, 10.464306882085287, 16.62833672897929, 12.701096749097077, 10.689556089169999, 11.134914573132942, 9.237836584286153, 12.422728040931455, 18.092836394343188, 13.038104621589333, 10.53184447910202, 13.221642891290283, 14.261168407977795, 10.832213316218555, 12.459463392272333, 19.001848408930865, 18.822436925763775, 18.54616992170036, 12.408660061665723, 11.678662294094309, 14.396545343469095, 12.480784912134961, 33.78779600379548, 18.80415571787082, 15.210146038488379, 27.541887422789884, 14.137847762591942, 19.938792803195316, 21.053704365267265, 14.69274981676354, 21.19133328121217, 23.101478498473497, 20.084954471636195, 26.585635336108716, 16.598415069069134, 31.426967152518454, 20.51170114327785, 28.239560068140136, 25.97669991274095, 21.238812463448063, 23.311004830751358, 12.658131091982181, 17.98313233168106, 22.748469928317125, 15.001648214488423, 13.27533346318048, 18.015526723575906, 15.842388827975581, 22.18639604030287, 21.040556291057403, 13.499766726938109, 16.018414860219394, 16.30887527859995, 27.950000760458632, 11.311517029318466, 18.11417135425673, 17.72632183904021, 17.10039942842481, 19.01941584271834, 13.936614437188544, 14.988399309347955, 13.410493490921684, 13.676004206176065, 11.732012610850491, 15.659836897271889, 11.694125011946138, 24.72908649460482, 15.518612057988587, 12.491990910799016, 12.76904871565852, 13.546268093434982, 22.924409660374252, 19.250061570064364, 34.40560905863077, 23.76166408781729, 20.065199264748838, 25.610877184582197, 36.460647071993876, 23.35483557724169, 30.25769457955489, 21.103030648033318, 12.029315219683447, 16.241155248772888, 15.658209937105196, 14.622146059424509, 12.51408221660671, 12.08866552567087, 14.389107395396747, 29.697955315067436, 11.755076639058107, 13.647265346824272, 10.9059472405996, 9.831295395601812, 9.705325169937122, 10.164950883643607, 16.387508144882286, 13.348421844919608, 14.681442448856115, 13.649990865206854, 11.284760090115254, 15.870821037065033, 21.6941535248594, 34.25254555868448, 20.375352025788647, 15.65323435824704, 20.59164836988185, 18.516569595782336, 17.900942291360757, 33.14302242702207, 24.1047256844963, 25.550398065517687, 11.635435219992232, 18.446977496625074, 13.326366319314037, 15.977437645503088, 16.001948518019216, 11.53547881296195, 16.787860785963115, 26.53046800847147, 10.236817795257755, 12.880712621013846, 14.929678645947195, 24.060250225541047, 15.11483411160826, 15.904231725628733, 15.965654556985335, 20.650462129682268, 16.016853286332516, 24.75898575152804, 14.839592818115035, 24.890393045360565, 17.800703015960924, 28.326596965438256, 14.53515258559509, 13.45918762532049, 21.19772382925643, 24.02621413453695, 24.91496424781844, 44.85393335981128, 31.087724906253577, 22.688669065575958, 16.11068430143119, 25.649018245434675, 15.106107633210913, 15.641647464997302, 20.416495321604092, 28.005697744427838, 27.102413506176653, 31.241185216840467, 16.504489620030736, 22.179959472524345, 24.47769590619003, 25.72834901014829, 27.45725051677586, 23.81134342784283, 30.890560599924164, 29.2645400012496, 23.846389917633992, 31.36027688820763, 23.03863723587401, 31.39246826741775, 15.881015765525747, 20.988245913435506, 16.208520999170297, 19.307805834531656, 15.730498216734809, 19.58582064804116, 19.302052523063086, 30.511433345865747, 18.184021260144544, 16.218622799821933, 14.215088517852834, 18.194303615599907, 13.17291587106568, 17.188099659446316, 13.727649604248732, 16.808633033570434, 20.17160752947773, 14.151716120734859, 15.143913325836328, 17.22711991552743, 15.802379877154626, 20.798450562137763, 19.580333855533546, 18.467147263153933, 26.536033634278887, 41.87051082428619, 21.924275742805072, 26.10941167278435, 18.73691274938731, 19.187152516918392, 11.132566081785757, 13.00116644560782, 16.41264473732077, 10.954894916506806, 14.551840243572304, 14.087433438676818, 14.315740826455329, 15.588328105357444, 10.002315574784891, 11.582888852656199, 13.617048872808965, 15.473974739367563, 12.506659317276181, 12.74758914535918, 22.78970760914378, 14.62370613697318, 15.466012272379018, 15.479634644620187, 14.763865570565684, 18.57580398669518, 35.20216884935261, 31.510058261096606, 29.861614974252483, 28.646950052016436, 27.771464368920064, 40.501957037668, 38.07391938584992, 41.55136485016982, 29.78184540815198, 32.74693097563294, 16.7570479631536, 16.116577470989775, 13.67666077708441, 18.353380131297666, 13.485009380582595, 17.32165029983429, 24.263674655479566, 21.18064352625144]
new_err = []
for i in cnn_err:
     new_err.append(i-1)

fig, ax = plt.subplots()

plt.xlabel('SMAPE')
plt.ylabel('频率')
plt.title('单一模型与混合模型误差分布')
# sns.distplot(x_axis, bins=30)
sns.distplot(cnn_err, bins=30, color='grey', label='CNN-LSTM模型')
sns.distplot(lstm_err, bins=30, color='black', label='LSTM模型')
plt.legend()

plt.show()